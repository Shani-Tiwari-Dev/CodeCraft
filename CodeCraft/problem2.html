<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CodeCraft — Java Basic Certification Test</title>
    <link rel="shortcut icon" href="assets/images/logo2.png">

  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#06b6d4;--muted:#94a3b8;--glass: rgba(255,255,255,0.03)}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,#071027 0%, #071a2a 100%);color:#e6eef6}
    .wrap{max-width:1100px;margin:28px auto;padding:20px}
    header{display:flex;align-items:center;gap:16px}
    header h1{margin:0;font-size:20px}
    .grid{display:grid;grid-template-columns:320px 1fr;gap:18px;margin-top:18px}
    .sidebar{background:var(--card);padding:14px;border-radius:12px}
    .problems-list{max-height:60vh;overflow:auto;padding:6px}
    .problem-item{padding:10px;border-radius:8px;margin-bottom:8px;background:var(--glass);cursor:pointer}
    .problem-item.solved{outline:2px solid rgba(6,182,212,0.18)}
    .main{background:var(--card);padding:16px;border-radius:12px;min-height:60vh}
    .meta{display:flex;gap:12px;align-items:center}

    .badge{background:rgba(6,182,212,0.12);padding:6px 10px;border-radius:999px;color:var(--accent);font-weight:600}
    .desc{margin-top:12px;color:var(--muted)}
    textarea.code{width:100%;height:220px;background:#031025;border:1px solid rgba(255,255,255,0.03);color:#dff5fb;padding:12px;border-radius:8px;font-family:monospace}
    .btn{background:var(--accent);color:#012;display:inline-block;padding:8px 12px;border-radius:8px;border:none;cursor:pointer;font-weight:700}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}
    .results{margin-top:12px}
    .mcq{display:flex;flex-direction:column;gap:8px;margin-top:10px}
    .mcq label{display:block;padding:10px;background:rgba(255,255,255,0.02);border-radius:8px}
    .progress{height:10px;background:rgba(255,255,255,0.04);border-radius:999px;overflow:hidden}
    .progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#60a5fa);width:0%}
    .footer-actions{display:flex;gap:8px;margin-top:14px;align-items:center}
    .certificate{display:none;padding:18px;text-align:center}
    .cert-card{background:#fff;color:#04202b;padding:20px;border-radius:12px}
    @media (max-width:880px){.grid{grid-template-columns:1fr;}.sidebar{order:2}.main{order:1}}
    /* Certificate Styles */
.cert-card {
  position: relative;
  width: 1000px;       /* Certificate width */
  height: 700px;       /* Certificate height */
  background-image: url("assets/images/Certi-Java.png");
  background-size: cover;       /* Fill full card */
  background-position: center;  /* Center the image */
  background-repeat: no-repeat;
  color: #23627b;
  border-radius: 12px;
  box-shadow: 0 8px 20px rgba(13, 87, 215, 0.3);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  font-family:'Courier New', Courier, monospace;
  padding-top: 70px;
}




/* Optional watermark text */
.cert-card::before {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotate(-25deg);
  font-size: 120px;
  color: rgba(0,0,0,0.08);
  font-weight: bold;
  pointer-events: none;
  z-index: 0;
}

body{
  background-image: url("assets/images/section-wrapper-bg.jpg");
}</style>
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <img src="assets/images/logo2.png" alt="logo" style="height: 100px;">
        <h1>CodeCraft — Java Basic Certification Test</h1>
        <div class="desc">Answer all question to generate your certificate. Progress is saved to your browser.</div>
      </div>
    </header>

    <div class="grid">
      <aside class="sidebar">
        <div class="meta">
          <div class="badge" id="solvedBadge">0 / 30 solved</div>
          <div style="flex:1">
            <div style="font-weight:700">Progress</div>
            <div class="progress" aria-hidden>
              <i id="progressBar"></i>
            </div>
          </div>
        </div>

        <div style="margin-top:12px;font-weight:700">Problems</div>
        <div class="problems-list" id="problemsList"></div>

        <div style="margin-top:12px;display:flex;gap:8px">
          <button class="btn ghost" id="resetBtn">Reset</button>
          <button class="btn" id="downloadProgressBtn">Export Progress</button>
        </div>

      </aside>

      <main class="main">
        <div id="mainHeader"><h2 id="title">Welcome</h2><div id="ptype" style="color:var(--muted)"></div></div>
        <div class="desc" id="description">Select a problem on the left to begin.</div>

        <div id="codingArea" style="display:none">
          <div style="margin-top:12px;font-weight:700">Write your solution (implement the required function):</div>
          <textarea class="code" id="codeEditor">// write your function here
</textarea>
          <div style="margin-top:8px;display:flex;gap:8px">
            <button class="btn" id="runBtn">Run & Test</button>
            <button class="btn ghost" id="resetCodeBtn">Reset Template</button>
            <button class="btn ghost" id="showHintBtn">Show Hint</button>
          </div>
          <div class="results" id="runResults"></div>
        </div>

        <div id="mcqArea" style="display:none">
          <div class="mcq" id="mcqOptions"></div>
          <div style="margin-top:8px"><button class="btn" id="submitMcqBtn">Submit Answer</button></div>
          <div class="results" id="mcqResult"></div>
        </div>

 <div id="certificateArea" class="certificate">
  <div class="cert-card" id="certCard">
       <strong><span id="userName" style="font-size: 50px; font-family:'Times New Roman', Times, serif;"></span></strong>
    </p>
    <!-- <p id="certDate" class="certDat"></p> -->
  </div>
</div>
      </main>
    </div>
  </div>

  <script>
    /* --- Problems dataset: 20 coding + 10 MCQ = 30 total --- */
    const problems = [
      // 20 coding problems (simple JS functions)
      // Python Beginner MCQs

{id:1,type:'mcq',title:'What is the output of 2 + 3 * 4?',desc:'Choose the correct output.',options:['20','14','24','9'],answer:1},
{id:2,type:'mcq',title:'What is the output of int x = 5; System.out.println(x * x);',desc:'Choose the correct output.',options:['10','25','7','2.5'],answer:1},
{id:3,type:'mcq',title:'What is the output of System.out.println("Java".charAt(2));',desc:'Choose the correct output.',options:['v','J','a','Error'],answer:0},
{id:4,type:'mcq',title:'What is the output of System.out.println(10 / 3);',desc:'Choose the correct output.',options:['3.33','3','4','3.0'],answer:1},
{id:5,type:'mcq',title:'What is the output of System.out.println(10 % 3);',desc:'Choose the correct output.',options:['1','0','3','2'],answer:0},
{id:6,type:'mcq',title:'What is the output of boolean b = false; System.out.println(!b);',desc:'Choose the correct output.',options:['True','False','0','1'],answer:0},
{id:7,type:'mcq',title:'What is the output of int a = 5; System.out.println(++a);',desc:'Choose the correct output.',options:['5','6','7','4'],answer:1},
{id:8,type:'mcq',title:'What is the output of int a = 5; System.out.println(a++);',desc:'Choose the correct output.',options:['5','6','4','Error'],answer:0},
{id:9,type:'mcq',title:'What is the output of System.out.println(5 > 2 && 3 < 1);',desc:'Choose the correct output.',options:['True','False','1','0'],answer:1},
{id:10,type:'mcq',title:'What is the output of String s = "Java"; System.out.println(s.length());',desc:'Choose the correct output.',options:['3','4','5','Error'],answer:1},
{id:11,type:'mcq',title:'What is the output of System.out.println("Java".toUpperCase());',desc:'Choose the correct output.',options:['java','JAVA','JaVa','Error'],answer:1},
{id:12,type:'mcq',title:'What is the output of int x = 10; x += 5; System.out.println(x);',desc:'Choose the correct output.',options:['10','5','15','20'],answer:2},
{id:13,type:'mcq',title:'What is the output of System.out.println(2 + 3 * 4 - 6 / 2);',desc:'Choose the correct output.',options:['12','14','10','8'],answer:0},
{id:14,type:'mcq',title:'What is the output of System.out.println(10 > 5);',desc:'Choose the correct output.',options:['true','false','10','5'],answer:0},
{id:15,type:'mcq',title:'What is the output of char c = \'A\'; System.out.println((int)c);',desc:'Choose the correct output.',options:['65','97','66','Error'],answer:0},

{id:16,type:'mcq',title:'Which of the following is a correct variable name in Java?',desc:'Pick the valid Java variable.',options:['1variable','my_var','my-var','@var'],answer:1},
{id:17,type:'mcq',title:'Which data type is used to store true/false values?',desc:'Choose the correct data type.',options:['int','String','boolean','char'],answer:2},
{id:18,type:'mcq',title:'Which keyword is used to define a class in Java?',desc:'Choose the correct keyword.',options:['class','Class','def','object'],answer:0},
{id:19,type:'mcq',title:'Which of the following is the entry point of a Java program?',desc:'Choose the correct method.',options:['public void main()','public static void main(String[] args)','main()','start()'],answer:1},
{id:20,type:'mcq',title:'Which operator is used for logical AND?',desc:'Choose the correct operator.',options:['&','&&','|','||'],answer:1},
{id:21,type:'mcq',title:'Which of the following is a loop in Java?',desc:'Choose the correct loop keyword.',options:['for','if','switch','try'],answer:0},
{id:22,type:'mcq',title:'Which keyword is used to inherit a class in Java?',desc:'Choose the correct keyword.',options:['implements','inherits','extends','interface'],answer:2},
{id:23,type:'mcq',title:'Which keyword is used to handle exceptions in Java?',desc:'Choose the correct keyword.',options:['try-catch','if-else','switch-case','loop'],answer:0},
{id:24,type:'mcq',title:'Which of the following is not a primitive type in Java?',desc:'Choose the correct answer.',options:['int','boolean','String','char'],answer:2},
{id:25,type:'mcq',title:'Which operator is used for equality comparison?',desc:'Choose the correct operator.',options:['=','==','!=','==='],answer:1},
{id:26,type:'mcq',title:'Which keyword is used to exit a loop in Java?',desc:'Choose the correct keyword.',options:['break','exit','stop','end'],answer:0},
{id:27,type:'mcq',title:'Which of the following is used to create an object in Java?',desc:'Choose the correct syntax.',options:['MyClass obj = new MyClass();','MyClass obj = MyClass();','new MyClass obj;','MyClass obj();'],answer:0},
{id:28,type:'mcq',title:'What is the default value of an int variable in Java?',desc:'Choose the correct answer.',options:['0','null','1','undefined'],answer:0},
{id:29,type:'mcq',title:'Which of the following is a correct way to write a comment?',desc:'Choose the correct syntax.',options:['// comment','/* comment */','Both // comment and /* comment */','<!-- comment -->'],answer:2},
{id:30,type:'mcq',title:'Which of these statements is true about Java?',desc:'Choose the correct answer.',options:['Java is platform independent','Java is only for web development','Java cannot handle exceptions','Java is not object-oriented'],answer:0}
    ];

    // App state
    let state = JSON.parse(localStorage.getItem('cc_state')||'{}');
    if(!state.solved) state.solved = {};

    // Helpers UI
    const problemsList = document.getElementById('problemsList');
    const titleEl = document.getElementById('title');
    const descEl = document.getElementById('description');
    const ptype = document.getElementById('ptype');
    const codingArea = document.getElementById('codingArea');
    const mcqArea = document.getElementById('mcqArea');
    const codeEditor = document.getElementById('codeEditor');
    const runBtn = document.getElementById('runBtn');
    const resetCodeBtn = document.getElementById('resetCodeBtn');
    const showHintBtn = document.getElementById('showHintBtn');
    const runResults = document.getElementById('runResults');
    const mcqOptions = document.getElementById('mcqOptions');
    const submitMcqBtn = document.getElementById('submitMcqBtn');
    const mcqResult = document.getElementById('mcqResult');
    const solvedBadge = document.getElementById('solvedBadge');
    const progressBar = document.getElementById('progressBar');
    const resetBtn = document.getElementById('resetBtn');
    const downloadProgressBtn = document.getElementById('downloadProgressBtn');
    const certificateArea = document.getElementById('certificateArea');
    const downloadCertBtn = document.getElementById('downloadCertBtn');
    const printCertBtn = document.getElementById('printCertBtn');
    const certName = document.getElementById('certName');
    const certDate = document.getElementById('certDate');
    const userNameSpan = document.getElementById('userName');

    let current = null;

    function renderList(){
      problemsList.innerHTML = '';
      problems.forEach(p=>{
        const div = document.createElement('div');
        div.className = 'problem-item'+(state.solved[p.id]? ' solved':'');
        div.textContent = p.id+ '. ' + p.title + (p.type==='mcq'?' (MCQ)':'');
        div.onclick = ()=>openProblem(p.id);
        problemsList.appendChild(div);
      });
      updateProgressUI();
    }

    function openProblem(id){
      current = problems.find(x=>x.id===id);
      titleEl.textContent = current.title;
      descEl.textContent = current.desc || '';
      ptype.textContent = current.type === 'mcq' ? 'MCQ' : 'Coding Problem';
      runResults.innerHTML = '';
      mcqResult.innerHTML = '';
      certificateArea.style.display = 'none';
      if(current.type === 'coding'){
        codingArea.style.display = 'block'; mcqArea.style.display = 'none';
        codeEditor.value = current.template || '';
      } else {
        codingArea.style.display = 'none'; mcqArea.style.display = 'block';
        renderMCQ(current);
      }
    }

    function renderMCQ(p){
      mcqOptions.innerHTML = '';
      p.options.forEach((opt,i)=>{
        const id = 'opt_'+i;
        const label = document.createElement('label');
        label.innerHTML = `<input type="radio" name="mcq" value="${i}" ${state['mcq_'+p.id]==i?'checked':''}/> ${opt}`;
        mcqOptions.appendChild(label);
      });
    }

    // Simple grader for coding problems
    function gradeCoding(userCode,problem){
      const fnName = problem.fnName;
      // Create a wrapper which exports the function. We will run tests and compare deep equality.
      const wrapped = `"use strict";\n${userCode}\nreturn typeof ${fnName} !== 'undefined' ? ${fnName} : null;`;
      try{
        const fn = new Function(wrapped)();
        if(typeof fn !== 'function') return {ok:false, message:'Function '+fnName+' not found.'};
        for(const t of problem.tests){
          const res = fn.apply(null,t.in);
          if(!deepEqual(res,t.out)){
            return {ok:false, message:`Failed for input ${JSON.stringify(t.in)}. Expected ${JSON.stringify(t.out)}, got ${JSON.stringify(res)}`};
          }
        }
        return {ok:true, message:'All tests passed!'};
      }catch(err){
        return {ok:false, message:'Error while running: '+err.message};
      }
    }

    function deepEqual(a,b){
      return JSON.stringify(a) === JSON.stringify(b);
    }

    runBtn.onclick = ()=>{
      if(!current || current.type !== 'coding') return;
      const userCode = codeEditor.value;
      const result = gradeCoding(userCode,current);
      runResults.innerHTML = `<div style="padding:8px;border-radius:8px;background:rgba(255,255,255,0.02)">${result.message}</div>`;
      if(result.ok){ markSolved(current.id); }
    };

    resetCodeBtn.onclick = ()=>{ if(current && current.type==='coding') codeEditor.value = current.template || ''; };
    showHintBtn.onclick = ()=>{ if(current && current.type==='coding') alert(current.hint || 'No hint.'); };

    submitMcqBtn.onclick = ()=>{
      if(!current || current.type!=='mcq') return;
      const sel = document.querySelector('input[name="mcq"]:checked');
      if(!sel){ mcqResult.innerHTML = '<div style="color:var(--muted)">Please choose an option.</div>'; return; }
      const val = Number(sel.value);
      if(val === current.answer){ mcqResult.innerHTML = '<div style="padding:8px;border-radius:8px;background:rgba(255,255,255,0.02)">Correct!</div>'; markSolved(current.id); state['mcq_'+current.id]=val; saveState(); }
      else{ mcqResult.innerHTML = '<div style="color:#ffb4b4">Wrong answer. Try again.</div>'; }
    };

    function markSolved(id){ state.solved[id]=true; saveState(); renderList(); }
    function saveState(){ localStorage.setItem('cc_state', JSON.stringify(state)); updateProgressUI(); }

    function updateProgressUI(){
      const solvedCount = Object.keys(state.solved||{}).length;
      solvedBadge.textContent = `${solvedCount} / ${problems.length} solved`;
      const perc = Math.round(solvedCount / problems.length * 100);
      progressBar.style.width = perc + '%';
      if(solvedCount === problems.length){ showCertificate(); }
    }

    resetBtn.onclick = ()=>{
      if(confirm('Reset progress?')){ localStorage.removeItem('cc_state'); state = {solved:{}}; renderList(); closeCertificate(); }
    };

    downloadProgressBtn.onclick = ()=>{
      const data = JSON.stringify(state,null,2);
      const blob = new Blob([data],{type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'codecraft_progress.json'; a.click(); URL.revokeObjectURL(url);
    };

    // Certificate
 function showCertificate(){
  certificateArea.style.display = 'block';

  // Take name from prompt only if not already set
  if(!state.userName){
    state.userName = prompt('Enter your name for the certificate:', 'Participant') || 'Participant';
    saveState();
  }

  // Fill certificate details
  document.getElementById("userName").textContent = state.userName;
  document.getElementById("certDate").textContent = "Date: " + new Date().toLocaleDateString();

}

    // initial render
    renderList();
    // open first problem
    openProblem(problems[0].id);
  </script>
</body>
</html>
